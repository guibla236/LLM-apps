<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenida - API FastAPI</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <div class="container">
        <h1>ğŸš€ Interfaz del RAG</h1>
        <p class="subtitle">Powered by Groq AI</p>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('summarizer')">ğŸ“° Resumidor de Noticias</button>
            <button class="tab-btn" onclick="switchTab('ingestor')">ğŸ“¥ Carga de Ticket</button>
            <button class="tab-btn" onclick="switchTab('bulk')">ğŸ“‚ Carga Masiva de Tickets</button>
            <button class="tab-btn" onclick="switchTab('search')">ğŸ” BÃºsqueda de Tickets Similares</button>
            <button class="tab-btn" onclick="switchTab('augment')">âœ¨ Asistente IA</button>
        </div>


        <div id="summarizer-section" class="section active">
            <div class="info-box">
                <h2>Â¿QuÃ© es esto?</h2>
                <p>Ingresa el tÃ­tulo y contenido de una noticia y nuestro sistema de IA generarÃ¡ un resumen conciso
                    junto con los puntos clave mÃ¡s importantes.</p>
                <p>No importa que la noticia estÃ© en otro idioma!</p>
            </div>

            <div class="info-box">
                <h2>ğŸ“° Resumen de Noticias</h2>
                <p>Ingresa el tÃ­tulo y contenido de una noticia para obtener un resumen y puntos clave.</p>

                <div class="form-group">
                    <label for="newsTitle">TÃ­tulo de la noticia:</label>
                    <input type="text" id="newsTitle" placeholder="Ej: Cambios en el pronÃ³stico del tiempo"
                        class="form-input">
                </div>

                <div class="form-group">
                    <label for="newsContent">Contenido de la noticia:</label>
                    <textarea id="newsContent" placeholder="Ej: El pronÃ³stico del tiempo prevÃ©..." class="form-textarea"
                        rows="5"></textarea>
                </div>

                <button class="btn-primary" onclick="callSummarizeEndpoint()">Resumir Noticia</button>
            </div>
        </div>

        <div id="ingestor-section" class="section" style="display: none;">
            <div class="info-box">
                <h2>Â¿QuÃ© es esto?</h2>
                <p>Ingresa un objeto JSON con la informaciÃ³n del ticket para almacenarlo en la base de datos vectorial.
                </p>
            </div>

            <div class="info-box">
                <h2>ğŸ“¥ IngestiÃ³n de Tickets</h2>
                <p>Pega aquÃ­ el JSON del ticket que deseas procesar.</p>

                <div class="form-group">
                    <label for="ticketJson">JSON del Ticket:</label>
                    <textarea id="ticketJson" placeholder='{
      "ticketId": "12345",
      "title": "Problema con la impresora",
      "priority": "HIGH",
      "owner": "Juan PÃ©rez - IT",
      "description": "La impresora no responde y muestra un error de conexiÃ³n.",
      "impact": "Alto",
      "actions": "ReiniciÃ© la impresora y verifiquÃ© los cables."
    }' class="form-textarea" rows="10"></textarea>
                </div>

                <button class="btn-primary" onclick="callIngestEndpoint()">Ingestar Ticket</button>
            </div>
        </div>

        <div id="bulk-section" class="section" style="display: none;">
            <div class="info-box">
                <h2>Â¿QuÃ© es esto?</h2>
                <p>Sube un archivo JSON que contenga una lista de tickets para ser procesados masivamente.</p>
            </div>

            <div class="info-box">
                <h2>ğŸ“‚ Carga Masiva de Tickets</h2>
                <p>Selecciona un archivo .json con el array de tickets.</p>

                <div class="form-group">
                    <label for="jsonFile">Archivo JSON:</label>
                    <input type="file" id="jsonFile" accept=".json" class="form-input">
                </div>

                <button class="btn-primary" onclick="callBulkIngestEndpoint()">Subir y Procesar</button>
            </div>
        </div>

        <div id="search-section" class="section" style="display: none;">
            <div class="info-box">
                <h2>Â¿QuÃ© es esto?</h2>
                <p>Ingresa la informaciÃ³n de un ticket para encontrar otros tickets similares en la base de datos.</p>
            </div>

            <div class="info-box">
                <h2>ğŸ” BÃºsqueda de Tickets Similares</h2>
                <p>Pega aquÃ­ el JSON del ticket referencia.</p>

                <div class="form-group">
                    <label for="ticketJsonSearch">JSON del Ticket:</label>
                    <textarea id="ticketJsonSearch" placeholder='{
      "ticketId": "12345",
      "title": "Problema con la impresora",
      "priority": "HIGH",
      "owner": "Juan PÃ©rez - IT",
      "description": "La impresora no responde y muestra un error de conexiÃ³n.",
      "impact": "Alto",
      "actions": "ReiniciÃ© la impresora y verifiquÃ© los cables."
    }' class="form-textarea" rows="10"></textarea>
                </div>

                <button class="btn-primary" onclick="callGetSimilarTicketsEndpoint()">Buscar Similares</button>
            </div>
        </div>

        <div id="augment-section" class="section" style="display: none;">
            <div class="info-box">
                <h2>Â¿QuÃ© es esto?</h2>
                <p>El asistente utilizarÃ¡ IA para analizar tickets similares y proponerte una soluciÃ³n resumida y
                    contactos clave.</p>
            </div>

            <div class="info-box">
                <h2>âœ¨ Asistente de ResoluciÃ³n</h2>
                <p>Pega aquÃ­ el JSON del ticket a resolver.</p>

                <div class="form-group">
                    <label for="ticketJsonAugment">JSON del Ticket:</label>
                    <textarea id="ticketJsonAugment" placeholder='{
      "ticketId": "12345",
      "title": "Problema con la impresora",
      "priority": "HIGH",
      "owner": "Juan PÃ©rez - IT",
      "description": "La impresora no responde y muestra un error de conexiÃ³n.",
      "impact": "Alto",
      "actions": "ReiniciÃ© la impresora y verifiquÃ© los cables."
    }' class="form-textarea" rows="10"></textarea>
                </div>

                <button class="btn-primary" onclick="callAugmentEndpoint()">Consultar Asistente</button>
            </div>
        </div>


        <div class="button-container">
            <button class="btn-secondary" onclick="clearResponse()">Limpiar respuesta</button>
        </div>

        <div class="response-box" id="responseBox">
            <h3>ğŸ“‹ Resultado:</h3>
            <span class="loading" id="loading">Cargando...</span>
            <div id="responseContent" class="response-content"></div>
        </div>
    </div>

    <script src="/static/js/script.js"></script>
</body>

</html>